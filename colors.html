<!DOCTYPE html>
<html>
<head>
  <title>Color Changer</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<div style="text-align: center;">
  <h1 id="text">I change colors :) </h1>

  <button onclick="toggleColor()">Toggle Red/Black</button>
  <button onclick="randomColor()">Random Color</button>

  <br><br>

  <input type="text" id="colorInput" placeholder="Enter a color">
  <button onclick="setCustomColor()">Set Custom Color</button>

  <p id="error" style="color: red;"></p>

  <script>
    let isRed = false;

    // Function toggles text between red and black
    function toggleColor() {
      const text = document.getElementById("text");
      text.style.color = isRed ? "black" : "red"; // If isRed true, make black
      isRed = !isRed; // set it to the opposite of what it currently is; ! means NOT
      clearError();
    }

    function randomColor() {
      const text = document.getElementById("text");
      // Generate a random number between 0 and 16777215 (which is FFFFFF in hex)
      const random = '#' + Math.floor(Math.random()*16777215).toString(16);
        // Converts the number to a hexadecimal string, then add '#' to make it a valid color code
      text.style.color = random;
      clearError();
    }

    function setCustomColor() {
      const input = document.getElementById("colorInput").value;
      const text = document.getElementById("text");
      if (isValidColor(input)) {
        text.style.color = input;
        clearError();
      } else {
        document.getElementById("error").textContent = "Invalid color! Try again";
      }
    }

    function isValidColor(str) {
      const s = new Option().style;
      s.color = str;
      return s.color !== '';
    }

    function clearError() {
      document.getElementById("error").textContent = '';
    }
  </script>
  </div>

</body>
</html>
